# 核心业务流程（MVP）

## 1. 分配床位 & 入住
1. 管理员筛选空床（可按楼栋/房间/性别）。
2. 选择学生 -> 选择床位 -> 提交分配。
3. 系统创建“有效分配记录”，并创建入住记录（或二步：先分配后入住）。
4. 床位状态变为“占用”。

## 2. 调宿
1. 管理员选择学生当前分配 -> 发起调宿。
2. 选择目标床位，校验通过。
3. 系统关闭原分配（写入结束时间/原因），创建新分配。
4. 两个床位状态同步更新。

## 3. 退宿
1. 管理员选择学生分配 -> 发起退宿。
2. 系统关闭有效分配，床位状态变为“可用”。
3. 写入退宿记录。

## 4. 报修工单
1. 学生提交工单（标题/描述/位置/图片）。
2. 管理员受理：指派维修人员、设置优先级/预计完成时间。
3. 维修人员处理：更新处理记录/状态。
4. 管理员或维修人员关闭工单。
5. 学生评价。

## 5. 访客登记（两种模式二选一）
- 模式A（管理员登记）：管理员直接登记访客入/离。
- 模式B（学生申请+管理员审批）：学生提交申请 -> 管理员审批 -> 生成访客记录。
